<!doctype html>
<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Copyright 2014 Intel Corporation. All rights reserved.

License: BSD-3-clause-Google and BSD-3-clause-Intel, see LICENSE.txt
-->
<link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html" />
<link rel="import" href="bower_components/core-animated-pages/transitions/slide-from-right.html" />
<link rel="import" href="bower_components/core-header-panel/core-header-panel.html" />
<link rel="import" href="bower_components/core-icons/core-icons.html" />
<link rel="import" href="bower_components/core-icons/social-icons.html" />
<link rel="import" href="bower_components/core-list/core-list.html" />
<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html" />
<link rel="import" href="bower_components/paper-tabs/paper-tabs.html" />

<link rel="import" href="contacts-item.html" />

<script src="dynamics.js" type="text/javascript"></script>
<!--<script src="tab-controller.js" type="text/javascript"></script>-->

<polymer-element name="contacts-list-view" fit>
  <template>
    <link rel="stylesheet" href="contacts-list-view.css" />

    <core-header-panel mode="waterfall-tall" tallClass="medium-tall"
        id="my-header-panel" fit>

      <core-toolbar id="my-toolbar">
        <paper-icon-button icon="menu" on-tap="{{ toggleMenu }}"
            id="sideMenuButton">
        </paper-icon-button>

        <div flex>Contacts</div>

        <div id="searchBox">
          <div id="searchBoxInner" layout horizontal>
            <paper-input label="Search" id="searchInput"
              on-input="{{ updateSearch }}" flex>
            </paper-input>
            <paper-icon-button icon="backspace"
              on-tap="{{ clearSearch }}">
            </paper-icon-button>
          </div>
        </div>

        <paper-icon-button icon="search" on-tap="{{ toggleSearch }}">
        </paper-icon-button>

        <paper-tabs class="bottom fit" selected="{{ $.tabSelector.selected }}" flex id="my-tabs"
            on-core-select="{{ tabSelectorChanged }}">
          <paper-tab>
            <paper-icon-button icon="favorite">
            </paper-icon-button>
            Favorites
          </paper-tab>
          <paper-tab>
            <paper-icon-button icon="social:person">
            </paper-icon-button>
            All
          </paper-tab>
          <paper-tab>
            <paper-icon-button icon="social:group">
            </paper-icon-button>
            Groups
          </paper-tab>
        </paper-tabs>
      </core-toolbar>

      <core-selector id="tabSelector"
          selected="0" layout target="{{$.tabsContainer}}">
      </core-selector>

      <div id="tabsViewport">

        <div id="tabsContainer" layout horizontal start-aligned>

          <section style="background: red">
            <core-list data="{{filteredFavorites}}" id="favoritesList"
                height="72">
              <template>
                <contacts-item model="{{model}}"
                  on-activated="{{itemActivated}}">
                </contacts-item>
              </template>
            </core-list>
          </section>

          <section style="background: blue">
            <core-list data="{{filteredData}}" id="allList"
                height="72">
              <template>
                <contacts-item model="{{model}}" favicon
                  on-activated="{{itemActivated}}"
                  on-favorite-changed="{{favoriteChanged}}">
                </contacts-item>
              </template>
            </core-list>
          </section>

          <section style="background: green">
            <div style="margin: 1em">groups are not yet implemented</div>
          </section>

        </div>
      </div>
    </core-header-panel>
  </template>

  <script src="contacts-list-view.js" type="text/javascript">
  </script>
</polymer-element>

<!-- vim:set sw=2 sts=2 et: -->
